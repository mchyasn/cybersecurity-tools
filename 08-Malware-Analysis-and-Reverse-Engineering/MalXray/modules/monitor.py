import time, yaml

def start_monitoring():
    with open("configs/config.yaml") as f:
        cfg = yaml.safe_load(f)

    log_path = cfg["monitor"]["log_path"]
    duration = cfg["monitor"]["duration"]

    with open(log_path, "w") as log:
        log.write("[MONITOR START]\\n")
        for i in range(duration):
            log.write(f"{i}: Simulated event: process_created - PID={1000+i}\\n")
            time.sleep(1)
        log.write("[MONITOR END]\\n")

    return log_path
